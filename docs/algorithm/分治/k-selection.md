### 选择问题

输入：集合$L$（含n个不等的实数）

输出：$L$中第$i$小的元素

$i = 1$，称为最小元素

$i = n$，称为最大元素

位置处在中间的元素，称为中位数。

$n$为奇数，中位数唯一，$i=(n+1)/2$

$n$为偶数，可指定$i = n / 2 + 1$

### 选最大

#### 算法

遍历$n$个数的数组$L$，令$max$为当前最大元素，$k$为当前最大元素的下标，当遇到更大的数时，更新$max$和$k$。

时间：$W(n) = n - 1$

### 选最大最小

输入：集合$L$（含n个不等的实数）

输出：$L$中最大的元素$max$和最小的元素$min$

#### 算法

* 蛮力算法

  顺序比较，先选出最大元素$max$，然后在剩余数组中选出$min$。

  时间：$W(n) = (n - 1) + (n - 2) = 2n - 3$

* 分组算法

  对$L$按两个一组分组，共$\lfloor n / 2 \rfloor$组，以及可能存在多余的元素$k$，

  每组中的较大元素组成$MAX$，较小元素组成$MIN$，

  然后在$MAX$和$k$中选出$max$，$MIN$和$k$中选出$min$。

  时间：$W(n) = \lfloor n / 2 \rfloor + 2\lceil n / 2 \rceil - 2 = \lceil 3n / 2 \rceil - 2$

* 分治算法

  将数组从中间划分为两个字数组$L_1$$、L_2$，

  递归地在$L_1$中求$max_1$和$min_1$，

  递归地在$L_2$中求$max_2$和$min_2$，

  那么$max = max\{max_1, max_2\}, min = min\{min_1,min_2\}$。

  时间：$W(n) = 2W(n / 2) + 2 = \dots = 3n/2 -2$。

#### 总结

* 选最大（**至少$n - 1$次比较**）：顺序比较，比较次数$n - 1$
* 选最大最小（**至少$3n / 2 - 2$次比较**）
  * 选最大 + 选最小，比较次数$2n - 3$
  * 分组：比较次数$\lceil 3n/2 \rceil - 2$
  * 分治：$n = 2^k$，比较次数$3n/2 - 2$

### 选第二大

输入：集合$L$（含n个不等的实数）

输出：$L$中第二大元素$second$

#### 算法

* 蛮力算法

  顺序比较找到最大元素$max$，然后从剩余的$n - 1$个元素中找最大。

  时间：$W(n) = n - 1 + n - 2 = 2n - 3$。

* 锦标赛算法

  $second$必然是在与最大数的比较中被淘汰，因此记录所有被最大数淘汰的数组成$A$，$A$中的最大元素即是$second$。该算法需要额外空间记录$A$。

  1. 两两分组比较，大者进入下一轮，直到剩下一个元素$max$为止

  2. 在每次比较中淘汰较小元素，将被淘汰元素记录在淘汰它的元素的链表上
  3. 检查$max$的链表，从中找到最大数，即是$second$

  时间：$W(n) = n + \lceil logn \rceil - 2$

  **该算法是所有以元素比较为基本运算的找第二大算法中最好的算法。**

### K-selection

问题：选第$k$小

输入：长度为$n$的数$S$组，正整数$k, 1 \le k \le n$

输出：第$k$小的数

#### 算法

* 调用$k$次选最小算法，时间复杂度为$O(kn)$，其中$k \le n / 2$

* 排序后输出第$k$小的元素，时间复杂度为$O(nlogn)$

* 分治算法

  >假设元素彼此不等，设计思想：
  >
  >1. 用**某个元素$m^*$**作为标准将$S$划分为$S_1$和$S_2$，其中$S_1$的元素小于$m^*$，$S_2$的元素大于$m^*$。
  >
  >2. 如果$k \le |S_1|$，则在$S_1$中找第$k$小，
  >
  >   如果$k = |S_1| + 1$，则$m^*$是第$k$小，
  >
  >   如果$k > |S_1| + 1$，则在$S_2$中找$k - |S_1| - 1$小
  >
  >3. 

#### 选中位数的应用：管道位置

假设有一条主管道和n口油井，求主管道的位置，使得每条支管道的长度总和最小。那么当主管道的位置为支管位置的中位数时，支管长度总和最小。

![](https://tva1.sinaimg.cn/large/007S8ZIlgy1ghknakfvfaj30m80cimxb.jpg)

#### 证明

<img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghknog2g6jj308a074t8m.jpg" style="zoom:150%;" />

